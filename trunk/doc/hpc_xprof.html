<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--
  HPCToolkit Documentation: Editing within Netscape/Mozilla Composer
  is possible, but it generates strange stuff in-line.  
  Please use an ordinary text editor.
-->

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <title>HPCToolkit xprof man page</title>

  <link rel='stylesheet' type='text/css' href='styleForAll.css'>
</head>

<body>

<!-- ********************************************************************** -->

<script language="JavaScript" src="header_hpctools.js"></script>

<!-- ********************************************************************** -->

<div id="main">

<p class="lastupdated">Last Updated 12 Mar 2004</p>

<h2>User Commands: xprof(1)</h2>

<!-- ********************************************************************** -->

<h3>SYNOPSIS</h3>

<div class="indent">

<p><span class="hpctool">xprof</span> 
   [options] [<i>binary</i>] <i>profile</i> &gt; <i>output.pxml</i>

<p><span class="hpctool">xprof</span> 
   [options] -p [<i>binary</i>] &gt; <i>output.pxml</i>

<p>Location: <code>${HPCTOOLKIT}/bin</code>

</div> <!-- class=indent -->

<!-- ********************************************************************** -->

<h3>DESCRIPTION</h3>

<div class="indent">

<p><span class="hpctool">xprof</span> converts various types of profile
output into the PROFILE format, which in particular, associates 
source file line information from <i>binary</i> with profile data
from <i>profile</i>.  It behaves very much like 
<span class="xtool">prof</span> followed by 
<a href="hpc_ptran.html" class="hpctool">ptran</a>: 
Given profile data as the <i>profile</i> input, it outputs a 
<a href="dtd_profile.html" class="hpctool">PROFILE</a> file suitable as
input to <a href="hpcview.html" class="hpctool">hpcview</a>.  Output
is sent to standard out.</p>

<p>To find source line information, access to the profiled binary is 
required.  <span class="xtool">xprof</span> will try to find the
<i>binary</i> from data within <i>profile</i>.  If this information
is missing, <i>binary</i> must be explicitly specified.

<p>By default, <span class="xtool">xprof</span> determines a set of
metrics available for the given profile data and includes all of them 
in the <a href="dtd_profile.html" class="hpctool">PROFILE</a> output.

<p>Currently <span class="hpctool">xprof</span> processes the output of 
<span class="xtool">dcpicat</span>
on Compaq Tru64/Alpha machines, incuding ProfileMe data.  Other input
data formats may be added in future versions.</p>

<p>In the future, we hope to modify <span class="hpctool">xprof</span>
to automatically generate data for associated DSO's; until then you
may find the <span class="hpctool">xprofquick</span> script useful.
For usage information, run <span class="hpctool">xprofquick</span>
with no arguments.


</div> <!-- class=indent -->

<!-- ********************************************************************** -->

<h3>ARGUMENTS</h3>

<div class="indent">

<p>In typical usage, <span class="hpctool">xprof</span>'s 
standard output is redirected to the file <i>output.pxml</i>.</p>

<dl>

<dt><i>binary</i>
<dd>The application binary file for which a 
<a href="dtd_profile.html" class="hpctool">PROFILE</a> should be
generated (and the binary used to collect the profiling information in
the file <i>profile</i>).

<dt><i>profile</i>
<dd>Profiling information generated by running <i>binary</i>.

</dl>


<h4>Options: Listing available metrics</h4>
Note: with these options, <i>binary</i> is optional and will not be read.

<dl>
<dt>-l
<dd>List all derived metrics, in compact form, available from
<i>profile</i> and suppress generation of 
<a href="dtd_profile.html" class="hpctool">PROFILE</a> output.
Note that this output can be used with the -M option.

<dt>-L
<dd>List all derived metrics, in long form, available from
<i>profile</i> and suppress generation of 
<a href="dtd_profile.html" class="hpctool">PROFILE</a> output.

</dl>


<h4>Options: Selecting metrics</h4>

<dl>

<dt>-M <i>list</i>, --metrics <i>list</i>
<dd>Replace the default metric set with the colon-separated <i>list</i> 
and define the metric ordering. May be passed multiple times. Duplicates
are allowed (though not recommended).

<dt>-X <i>list</i>, --exclude-metrics <i>list</i>
<dd>Exclude metrics in the colon-separated <i>list</i> from either the 
default metric set or from those specified with -M. May be passed multiple
times.

<dt>-R, --raw-metrics
<dd>Generate 'raw' metrics, disabling computation of derived metrics.  For
some profile data, such as <span class="xtool">DCPI's ProfileMe</span>,
the default is to output derived metrics, not the underlying raw metrics;
this option forces output of only the raw metrics.  Should not be
used with -M or -X.

</dl>


<h4>Options: General</h4>

<dl>

<dt>-p, --pipe
<dd>Supply <i>profile</i> on stdin.  E.g., it is often desirable
to pipe the output of <span class="xtool">dcpicat</span> into 
<span class="hpctool">xprof</span>.

<dt>-V, --version
<dd>Print version information.

<dt>-h, --help
<dd>Print version information.

</dl>

</div> <!-- class=indent -->

<!-- ********************************************************************** -->

<h3>EXAMPLES</h3>

<div class="indent">

<ol class="noindent">

<li><p>To send <a href="dtd_profile.html" class="hpctool">PROFILE</a> 
information to the file <code>foo.pxml</code> for the program
<code>foo</code> using <span class="xtool">dcpi</span> to collect
cycles and bmiss information, use commands similar to the following:

<div class="indent">
  <code>mkdir -p /scratch/dsystem/dcpid</code><br>
  <code>setenv DCPIDB /scratch/dsystem/dcpid</code><br>
  <code>dcpid -slot cycles -slot bmiss $DCPIDB</code><br>
  <code>foo</code><br>
  <code>dcpiquit</code><br>
  <br>
  <code>dcpicat&nbsp;/scratch/dsystem/dcpid/200301251550/limerick/foo_20021124065938e3a278&nbsp;|&nbsp;xprof&nbsp;-p&nbsp;>&nbsp;foo.pxml</code><br>
</div>

</ol>

</div> <!-- class=indent -->

<!-- ********************************************************************** -->

<h3>ALSO SEE</h3>

<div class="indent">

<p>See the file 
<a href="../README.ReleaseNotes"><code>${HPCTOOLKIT}/README.ReleaseNotes</code></a>.</p>

<p>The <span class="hpctool">xprofquick</span>, described above
briefly, may be helpful.

</div> <!-- class=indent -->

<!-- ********************************************************************** -->

<script language="JavaScript" src="footer_hpctools.js"></script>

<!-- ********************************************************************** -->

</div> <!-- id=main -->

</body>
</html>
