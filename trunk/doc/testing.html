<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--
  HPCToolkit Documentation: Editing within Netscape/Mozilla Composer
  is possible, but it generates strange stuff in-line.  
  Please use an ordinary text editor.
-->

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <title>HPCToolkit: Testing</title>

  <link rel='stylesheet' type='text/css' href='styleForAll.css'>
</head>

<body>

<!-- ********************************************************************** -->

<script language="JavaScript" src="header_hpctoolkit.js"></script>

<!-- ********************************************************************** -->

<div id="main">

<p class="lastupdated">Last Updated 31 Jan 2003</p>

<a name="toc"></a>
<h2>Testing HPCToolkit</h2>

<h2>Contents</h2>
<ul>
  <li><a href="#overview">Test Notes</a>
  <li><a href="#test_bloop">Testing `bloop'</a>
  <li><a href="#test_xprof">Testing `xprof'</a>
</ul>

<!-- ********************************************************************** -->

<a name="notes"></a>

<h2>Test Notes</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<p>See <code>${HPCTOOLKIT}/tests/README</code> for more information on
the tests.

<p>Before running the tests, make sure the binaries are in your path.
Normally, they will be in <code>${HPCTOOLKIT}/bin/${HPCTOOLKIT_PLATFORM}</code>.
If you have sourced
<a href="../Sourceme-csh"><code>Sourceme-csh</code></a> or 
<a href="../Sourceme-sh"><code>Sourceme-sh</code></a>, your path 
should already be updated.</p>

<p>These tests assume that you built GNU's binutils with the
recommended target list.  If you removed some of these targets, a
number of tests will fail.</p>

<!-- ********************************************************************** -->

<a name="test_bloop"></a>

<h2>Testing `bloop'</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<ol class="noindent">


<li>
<p>There are a number of test suites, each containing individual tests.
The following commands will run each test in each test suite:

<div class="indent">
<code>cd $HPCTOOLKIT/tests/bloop</code><br>
<code>make clean</code><br>
<code>make</code>
</div>
    
<p>Alternatively, you can run an individual test suite or any number
of individual tests within a test suite.  See the file
<code>${HPCTOOLKIT}/tests/README</code> for a primer on the make system and using
`make' with individual tests.</p>


<li>
<p>Running all the tests will take a while, especially on slower
machines.  Go take a sip of your favorite beverage.</p>


<li>
<p>Evaluating the results.  The make system will run 
<span class="hpctool">bloop</span> on each test within the test suite,
create diffs with the accepted results, and then report the number of
lines in each diff.</p>

<p>Because of some slight differences in the operation of binutils
between various platforms, the degree in which your test output should
match the accepted results will vary slightly.  (These differences are
not significant, but we hope to resolve most of them in future
releases.)  Most of the diffs should be empty (0 lines), but a few may
have a small number of (unimportant) diffs.  A very few will have a
larger number of (unimportant) diffs.  Note that `small' and `large'
are relative to the size of the binary; see our sample summaries for a
more exact idea of what to expect.</p>

<div class="indent">
  <code>sample.make.$HPCTOOLKIT_PLATFORM</code>
</div>

<p>The C++ test cases will naturally have more non-empty diffs because
cross-target demangling often fails.</p>

</ol>

<!-- ********************************************************************** -->

<a name="test_xprof"></a>

<h2>Testing `xprof'</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<ol class="noindent">

<li>
<p>There is one test suite, containing a number of individual tests.
The following commands will run each test in the test suite:

<div class="indent">
<code>cd $HPCTOOLKIT/tests/xprof</code><br>
<code>make clean</code><br>
<code>make</code>
</div>

<p>Alternatively, you can run any number of individual tests within
the test suite.  See the file <code>${HPCTOOLKIT}/tests/README</code>
for a primer on the make system and using `make' with individual
tests.</p>


<li>
<p>Evaluating the results.  The make system will run 
<span class="hpctool">xprof</span> on each test within the test suite,
create diffs with the accepted results, and then report the number of
lines in each diff.</p>

<p>The results should be platform independent and every diff should have
0 lines.  A sample output is in:</p>

<div class="indent">
  <code>sample.make</code>
</div>

</ol>


<!-- ********************************************************************** -->

<script language="JavaScript" src="footer_hpctoolkit.js"></script>

<!-- ********************************************************************** -->

</div> <!-- id=main -->

</body>
</html>
