<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--
  HPCToolkit Documentation: Editing within Netscape/Mozilla Composer
  is possible, but it generates strange stuff in-line.  
  Please use an ordinary text editor.
-->

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <title>HPCToolkit hpcrun man page</title>

  <link rel='stylesheet' type='text/css' href='styleForAll.css'>
</head>

<body>

<!-- ********************************************************************** -->

<script language="JavaScript" src="header_hpctools.js"></script>

<!-- ********************************************************************** -->

<div id="main">

<p class="lastupdated">Last Updated 20 Sept 2004</p>

<h2>User Commands: hpcrun(1)</h2>

<!-- ********************************************************************** -->

<h3>SYNOPSIS</h3>

<div class="indent">

<p><span class="hpctool">hpcrun</span> [-r] [-e&nbsp;&lt;event1&gt;[:&lt;period1&gt;] 
[-e&nbsp;&lt;event2&gt;[:&lt;period2&gt;] ...]] [-o&nbsp;&lt;outpath&gt;] [-f&nbsp;&lt;flag&gt;] 
-- &lt;command&gt; [arguments]
<p><span class="hpctool">hpcrun</span> [-l | -L] [-V] [-h] 
 
</div> <!-- class=indent -->

<!-- ********************************************************************** -->

<h3>DESCRIPTION</h3>

<div class="indent">

<p><span class="hpctool">hpcrun</span>
profiles the execution of an arbitrary command using statistical sampling. 
During execution of &lt;command&gt;, the specified events 
will be monitored. Events may be specified using PAPI platform independent 
names or using native event names for the processor.
<span class="hpctool">hpcrun</span> 
can sample multiple events during a single execution.
</p>

<p>
For each &lt;eventk&gt;, each &lt;periodk&gt; instances of &lt;eventk&gt; a counter associated 
with the instruction at the current program counter location will be incremented. 
When &lt;command&gt; terminates normally, a profile -- a histogram of counts
for instructions in each load module) will be written to a file with the
name &lt;command&gt;.&lt;event1&gt;.&lt;hostname&gt;.&lt;pid&gt;. If multiple events are specified,
data for all events will be recorded in this single file even though the file
naming convention only uses &lt;event1&gt; in name of the output file.
</p>

<p>
The special option '--' can be used to stop 
<span class="hpctool">hpcrun</span> 
option parsing.  This is
especially useful when &lt;command&gt; takes arguments of its own.
</p>



</div> <!-- class=indent -->

<!-- ********************************************************************** -->

<h3>ARGUMENTS</h3>

<div class="indent">

</div> <!-- class=indent -->
<h4>GENERAL OPTIONS</h4>
<div class="indent">

<dl>

<dt>-l <dd> List PAPI and native events available on this architecture.


<dt>-L<dd> Similar to -l, but with more detailed information.

<dt>-V <dd>Print version information.

</div> <!-- class=indent -->
<h4>PROFILING OPTIONS</h4>
<div class="indent">

<dl>

<dt>-r 
<dd> By default all processes spawned by &lt;command&gt; will be profiled, each
      receiving its own output file. Use this option to turn off recursive
      profiling; only &lt;command&gt; will be profiled.

<dt>- <i>&lt;eventk&gt;[:&lt;periodk&gt;] </i>  
<dd> An event to profile and its corresponding sample period.  &lt;eventk&gt;
      may be either a PAPI or native processor event
The default event profiled is PAPI_TOT_CYC and the default sampling period used for any event is 32767 events.
<ul>
<li>NOTE 1: It is recommended that you always specify the sampling period for
              each profiling event.</li>
<li>NOTE 2: Multiple events may be selected for profiling during an execution
              by using  multiple '-e' arguments. </li>
<li>NOTE 3: The maximum number of events that can be monitored during a single
              execution depends on the processor. Not all combinations of 
              events may be monitored in the same execution. Allowable
              combinations depend on the processor. Check your 
              processor documentation for the details of both issues.</li>
</ul>

<dt>-o
<dd>Directory for output data. The default output directory is the current directory. 


</dl>

<h4>NOTES</h4>
<ul>
<li>
Because 
<span class="hpctool">hpcrun</span> 
uses LD_PRELOAD to initiate profiling it cannot be used
to profile setuid commands; LD_PRELOAD is not permitted for them.
</li>
<li>
Bug: For non-recursive profiling, LD_PRELOAD is currently unsetenv'd.
  Child processes that otherwise depend LD_PRELOAD will likely die.
</li>

</div> <!-- class=indent -->

<h3>NOTES</h3>

<div class="indent">

<p><span class="hpctool">hpcrun</span> currently runs only on Linux. It has been tested on Itanium, Pentium, Opteron, and Athlon processors. 


<p><span class="hpctool">hpcrun</span> uses the HPCRUN_HOME 
environment variable.

</div> <!-- class=indent -->
<h3>RELATED</h3>
<div class="indent">
<p>
<span class="hpctool">hpcrun</span> 
uses the statistical sampling interface of the PAPI library for 
monitoring executions.
</div> <!-- class=indent -->


<!-- ********************************************************************** -->

<script language="JavaScript" src="footer_hpctools.js"></script>

<!-- ********************************************************************** -->

</div> <!-- id=main -->

</body>
</html>


