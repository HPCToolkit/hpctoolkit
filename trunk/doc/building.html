<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--
  HPCToolkit Documentation: Editing within Netscape/Mozilla Composer
  is possible, but it generates strange stuff in-line.  
  Please use an ordinary text editor.
-->

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <title>HPCToolkit: Downloading, Building and Installing</title>

  <link rel='stylesheet' type='text/css' href='styleForAll.css'>
</head>

<body>

<!-- ********************************************************************** -->

<script language="JavaScript" src="header_hpctools.js"></script>

<!-- ********************************************************************** -->

<div id="main">

<!-- automatically updated by Emacs hook below; nicer than CVS Date -->
<p class="lastupdated">Last Updated: 2004-10-26</p>

<a name="toc"></a>
<h2>Downloading, Building and Installing HPCToolkit</h2>

<h2>Contents</h2>
<ul>
  <li><a href="#prerequisites">System Prerequisites</a>

  <li><a href="#sources">Downloading the Sources</a>

  <li>Building and Installing
  <ul>
    <li><a href="#build_hpctoolkit">HPCToolkit</a>
    <li><a href="#build_hpcviewer">hpcviewer</a>
  </ul>

  <li>Using
  <ul>
    <li><a href="#use_hpctoolkit">HPCToolkit</a>
    <li><a href="#use_hpcviewer">hpcviewer</a>
  </ul>
  
</ul>


<!-- ********************************************************************** -->
<!-- ********************************************************************** -->

<a name="prerequisites"></a>

<h2>System Prerequisites</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<ol class="noindent">

<li>

<p>To reduce the effort needed to distribute HPCToolkit, we have opted
to distribute it in source form only. You will need a version of
<a href="http://www.cvshome.org">CVS</a> on your PATH.

<li>
<p>HPCToolkit requires an ANSI/ISO C/C++ compliant compiler.
Generally speaking any relatively recent vendor compiler or GCC 3.x
should be fine.  The toolkit uses GNU binutils which requires a C
compiler that also supports a few GNU extensions; obviously, GCC may
be used.
    
  <ul class="noindent">

    <li>IRIX64-mips:
      <ul class="noindent">
        <li>SGI MIPSpro C++/C 7.3.x, 7.4
        <li>GCC C++/C 3.2.1
      </ul>

    <li>Linux-i686
      <ul class="noindent">
        <li>GCC C++/C 3.0.4, 3.2.x, 3.3.x
      </ul>

    <li>Linux-ia64:
      <ul class="noindent">
        <li>Intel C++/C 8.0
        <li>Intel C++/C 7.0, 7.1
        <li>Intel C++/C 6.0
        <li>GCC C++/C 3.0.4, 3.2.x, 3.3.x
      </ul>

    <li>Linux-opteron:
      <ul class="noindent">
        <li>GCC C++/C 3.3.x
      </ul>

    <li>SunOS-sparc:
      <ul class="noindent">
        <li>Sun Forte C++/C 5.3 (WorkShop 6 update 2 with patch 111685-01
            or greater (bug id 4466915))
        <li>Sun Forte C++/C 5.1 (WorkShop 6)
        <li>GCC C++/C 3.0.4
      </ul>

    <li>Tru64-alpha:
      <ul class="noindent">
        <li>Compaq C++/C 6.2, 6.3, 6.5
        <li>GCC C++/C 3.2.1
      </ul>
  </ul>

<li>
<p>HPCToolkit requires a basic version of GNU make, not a vendor
supplied make.  We have successfully used versions 3.70, 3.76, 3.77, 
3.78, 3.79 3.80.

<li>
<p>HPCToolkit contains some Perl-based tools which require that some
variant of Perl 5 installed and that it is in your path.  We have
succssfully used versions 5.6.x, 5.8.x.

<li>
<p><a href="hpcrun.html" class="hpctool">hpcrun</a> requires an installation
of <a href="http://icl.cs.utk.edu/projects/papi/">PAPI</a> 3.0 or greater.

<li>
<p><a href="hpcviewer.html" class="hpctool">hpcviewer</a> is a Java 
application that can be used on a variety of platforms.  We have successfully
used the following specific configurations:

  <ul class="noindent">
    <li>Mac OS X: javac from JDK 1.4.2
    <li>ia64-Linux: using javac from jd2sdk1.4.2 
    <li>i686-Linux: using javac from jd2sdk1.4.2 
    <li>sparc-Solaris: using javac from JDK 1.4.0
    <li>alpha-Tru64: using javac from JDK 1.4.2
  </ul>

</ol>


<!-- ********************************************************************** -->
<!-- ********************************************************************** -->

<a name="sources"></a>

<h2>Downloading the Sources</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<ol class="noindent">

<li>
<p>Download the <a href="http://www.hipersoft.rice.edu/hpctoolkit/downloads/HPCToolkitRoot.tar.gz">HPCToolkitRoot</a> tarball and unzip/untar it.
<div class="indent">
  <code>gunzip HPCToolkitRoot.tar.gz</code><br>
  <code>tar xvf HPCToolkitRoot.tar</code><br>
</div>

<li>
<p>Change to the top-level HPCToolkitRoot directory.

<li>
<p>Gather the rest of the sources using anonymous cvs.   
<div class="indent">
  <code>./bin/updatesrc</code><br>
</div>
<p>This will print a summary of progress to standard out and generate
a log file with all the hoary details.

</ol>

<!-- ********************************************************************** -->
<!-- ********************************************************************** -->

<h2>Building and Installing</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<div class="indent">

<!-- ********************************************************************** -->

<a name="build_hpctoolkit"></a>

<h2>HPCToolkit</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<p><i>Temporary: On IRIX64, please use these 
<a href="building-old.html">instructions</a>.</i>

<p>The easiest way to build HPCToolkit is to use
<code>Makefile.quick</code>.  If you want to build <a
href="hpcrun.html" class="hpctool">hpcrun</a>, you will need to use
the <code>PAPI</code> option.  For a brief description, list of
supported options and the default installation path, execute the
following.

<div class="indent">
  <code>make -f Makefile.quick help</code><br>
</div>

<ol class="noindent">

<li>
<p>Change to the top-level HPCToolkitRoot directory.

<li>
<p>Configure, build and install. Since this will produce a lot of
output, you may want to redirect it to a file.

<div class="indent">
  <code>make -f Makefile.quick [PAPI=&lt;install_path&gt;] all</code><br>
</div>

</ol>

<p>This will build and install HPCToolkit in the paths given above.
Because the installation is compact and self-contained, you may rename
or move it to another location.  All source code may be removed.

<p>Note: There are three external libraries -- OpenAnalysis,
Xerces-C++ and GNU binutils -- that will be built during this process.
In some cases it may be possible to use versions of these libraries
that may already be installed on your system.  However, we do not
support such configurations.</p>

<!-- ********************************************************************** -->

<a name="build_hpcviewer"></a>

<h2>External tool: hpcviewer</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<p>HPCToolkit's hpcviewer tool is in a separate directory and built
separately. We often download, compile, and run hpcviewer on laptops
or desktops rather than the system on which we collect performance
measurements.  We briefly describe how to build hpcviewer here,
regardless of where you want to build it.</p>

<p>These instructions are for Unix systems or for Cygwin-Windows.

<h3>Building</h3>

<ol class="noindent">

<li>
<p>Change to the top-level hpcviewer directory <code>hpcviewer</code>.

<li>
<p>Change to the build directory <code>build-unix</code> and initiate
the build with make.

<div class="indent">
  <code>cd build-unix</code><br>
  <code>make</code><br>
</div>

</ol>

<p>See <a href="#use_hpcviewer">Using hpcviewer</a> for instructions
on using the toolkit.

<!-- ********************************************************************** -->

</div>

<!-- end: Building -->

<!-- ********************************************************************** -->
<!-- ********************************************************************** -->


<h2>Using</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<div class="indent">

<!-- ********************************************************************** -->

<a name="use_hpctoolkit"></a>

<h2>HPCToolkit</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<p>To use the resulting installation, add the <code>bin</code> subdirectory to your <code>PATH</code>.  If you set the <code>HPCTOOLKIT</code> environment variable to the root of your installation, you can use either 
<a href="../Sourceme-csh"><code>Sourceme-csh</code></a> or 
<a href="../Sourceme-sh"><code>Sourceme-sh</code></a> to set your <code>PATH</code>.

<!-- ********************************************************************** -->

<a name="use_hpcviewer"></a>

<h2>hpcviewer</h2>
<p><i>[<a href="#toc">Contents</a>]</i>

<p>In a Un*x environment, add the <code>bin</code> subdirectory of the hpcviewer directory to
your path. Run the <code>hpcviewer</code> command. When run with no
arguments, it will bring up a file chooser dialog to select the
performance database XML file. The pathname of the performance
database XML file can be specified as an argument to
<code>hpcviewer</code> to skip the file chooser dialog.

<p>On some systems with a GUI (e.g. Mac OS X), double clicking on the
HPCViewer.jar file icon can also be used to launch
<code>hpcviewer</code>.

<!-- ********************************************************************** -->

</div>

<!-- end: Using -->

<!-- ********************************************************************** -->
<!-- ********************************************************************** -->

<script language="JavaScript" src="footer_hpctools.js"></script>

<!-- ********************************************************************** -->

</div> <!-- id=main -->

</body>
</html>


<!-- Local Variables: -->
<!-- eval: (add-hook 'write-file-hooks 'time-stamp) -->
<!-- time-stamp-start: ">Last Updated: " -->
<!-- time-stamp-format: "%:y-%02m-%02d" -->
<!-- time-stamp-end: "<" -->
<!-- time-stamp-line-limit: 35 -->
<!-- End: -->

