<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--
  HPCToolkit Documentation : Editing within Netscape/Mozilla Composer
  is possible, but it generates strange stuff in-line.  
  Please use an ordinary text editor.
-->

<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<meta name="description" content="We developed HPCToolkit -- a multi-platform package with tools for 1). collecting raw profile information 2). converting various types of profiling information into platform independent XML formats and 3). synthesizing browsable representations that correlate performance metrics gathered from multiple sources with program source code.">
		<meta name="keywords" content="HPCToolkit, performance analysis, tuning tools, performance, performance tools, performance metrics, language independent, compiler independent, hpcview, data layout, compiler optimization">
		<title>HPCToolkit Documentation</title>

  <link rel='stylesheet' type='text/css' href='style/styleForAll.css'>
</head>

<body>

<!-- ********************************************************************** -->

<script language="JavaScript" src="style/header_hpctoolkit.js"></script>

<!-- ********************************************************************** -->

<div id="main">

<h1>Accessing HPCToolkit Source</h1>

<p>[<a href="http://www.hpc.svn.rice.edu/listing.php?repname=HPCToolkit&path=%2F&sc=0">View</a> the revision-controlled source code.]

<ol>

<li><p>You will need a patched subversion client to correctly interpret
the 'svn:externals' properties.  (See below for the rationale.)  Get
it here:

<table cellpadding="2" cellspacing="2" border="1" width="100%">
<tr>
<td><a href="downloads/subversion-1.4.4_externals-relative-url.tar.gz">
subversion-1.4.4_externals-relative-url.tar.gz</a>
<br>
(Recommended configure options: <code>--with-ssl --without-berkeley-db --without-apxs</code>.)
</tr>

<tr>
<td><a href="downloads/subversion-1.3.2_externals-relative-url.tar.gz">
subversion-1.3.2_externals-relative-url.tar.gz</a>
<br>
(Recommended configure options: <code>--with-ssl --without-berkeley-db --without-apxs</code>.)
</tr>

</table>


<li><p>The best way to get the source is to use 

<a href="http://www.hpc.svn.rice.edu/listing.php?repname=hpctoolkit-oss&path=%2F&sc=0"><code>hpctoolkit-oss</code></a>, the HPCToolkit 'One-Stop-Shopping' meta-repository (which includes everything as a svn:external!):

<table cellpadding="2" cellspacing="2" border="1" width="100%">
<tr>
<td>the trunk
<td><code>svn co http://hpc.svn.rice.edu/r/hpctoolkit-oss/trunk</code>
</tr>

<tr>
<td>a <a href="http://www.hpc.svn.rice.edu/listing.php?repname=hpctoolkit-oss&path=%2Fbranches%2F#_branches_">branch</a>
<td><code>svn co http://hpc.svn.rice.edu/r/hpctoolkit-oss/branches/&lt;branch-name&gt;</code>
</tr>

<tr>
<td>a <a href="http://www.hpc.svn.rice.edu/listing.php?repname=hpctoolkit-oss&path=%2Ftags%2F#_tags_">specific version</a>
<td><code>svn co http://hpc.svn.rice.edu/r/hpctoolkit-oss/tags/&lt;tag-name&gt;</code>
</tr>

</table>

</ol>


<h2>Why we have a patched subversion client: Summary</h2>

<pre>

Summary:
-------

I have created a patch for subversion 1.3.2 (and then 1.4.4) that is based 
on a couple of earlier patches.  See Subversion issue 1336
  http://subversion.tigris.org/issues/show_bug.cgi?id=1336

The patch is limited to the svn *client* (the part that processes
snv:externals) which means that every svn user will need it. :(

Example:
-------
Let the following be properties to the repository located at:
  proto://[usr@host]/repos/path

Then, svn:externals can now include the following
  ext1    ../&lt;p1&gt;   # ==&gt; proto://[usr@host]/repos/path/../&lt;p1&gt;
  ext2    /&lt;p2&gt;     # ==&gt; proto://[usr@host]/repos/&lt;p2&gt;
  ext3    &lt;URL&gt;     # default support 

</pre>

<h2>Why we have a patched subversion client:</h2>

<pre>

In order to nicely factor our CVS source code, we had some 'shared'
modules (e.g. config) that several repositories referenced.  The idea
was that this shared code could be modularized and then the full
source tree would be created dynamically at checkout.

Subversion has a better *and* more limited mechanism for supporting
this.  The basic problem is that while support for this feature has
been generalized somewhat, references to other repositories must be
fully qualified URLs.  In particular this means that if I checkout a
repository as:
   svn+ssh://me@koolkat2.cs.rice.edu/HPCToolkit
   ^^^^^^^   ^^^
the shared repository might be checked out as
   svn://koolkat2.cs.rice.edu/HPCToolkit
   ^^^   ^

This means that the shared repository would *not* inherit the
protocol, username and host information of the referencing repository.
Very annoying on several counts.  (This is like HTML only supporting
absolute URLs on web pages.  Every time the server changed or the
files were moved the links would be invalidated.)

A lot of people have complained about this and I managed to find an
old patch that I updated and applied to current subversion release.
The subversion tracking system has a feature request logged for this
issue and I have posted the patch there.

The upshot of this is that if we want to make effective use of modules
-- and I have things set up quite nicely now -- anyone using shared
modules will have to use this patched version of subversion.  I think
this is feasible since we have small numbers of developers and can
post the patched subversion.

</pre>


<!-- ********************************************************************** -->

<script language="JavaScript" src="style/footer_hpctoolkit.js"></script>

<!-- ********************************************************************** -->

</div> <!-- id=main -->

</body>
</html>
