Force symtab to use our strdup demangle hack.
The GNU demangler segfaults on the bwaves Intel binary.


diff -Naurb SymtabAPI-8.0.orig/configure SymtabAPI-8.0/configure
--- SymtabAPI-8.0.orig/configure	2012-11-30 00:08:54.000000000 -0600
+++ SymtabAPI-8.0/configure	2012-11-30 00:25:02.000000000 -0600
@@ -5839,6 +5839,10 @@
    fi
 fi
 
+# Force symtab to use our strdup demangle hack.
+GNU_DEMANGLER=
+USE_LIBIBERTY=true
+
 
 
 
diff -Naurb SymtabAPI-8.0.orig/configure.in SymtabAPI-8.0/configure.in
--- SymtabAPI-8.0.orig/configure.in	2012-11-30 00:08:54.000000000 -0600
+++ SymtabAPI-8.0/configure.in	2012-11-30 00:11:21.000000000 -0600
@@ -298,6 +298,10 @@
    fi
 fi
 
+# Force symtab to use our strdup demangle hack.
+GNU_DEMANGLER=
+USE_LIBIBERTY=true
+
 AC_SUBST(GNU_DEMANGLER)
 AC_SUBST(USE_LIBERTY)
 AC_SUBST(LINK_LIBERTY)
diff -Naurb SymtabAPI-8.0.orig/make.config SymtabAPI-8.0/make.config
--- SymtabAPI-8.0.orig/make.config	2012-11-30 00:08:54.000000000 -0600
+++ SymtabAPI-8.0/make.config	2012-11-30 00:24:22.000000000 -0600
@@ -794,7 +794,7 @@
 CAP_DEF += -Dcap_gnu_demangler
 endif
 
-ifdef USE_LIBERTY
+ifdef NOT_DEFINED
 CAP_DEF += -Dcap_liberty
 ifdef LINK_LIBERTY
 ifdef LIBIBERTY_LIB
@@ -812,6 +812,11 @@
 endif
 endif
 
+# Force symtab to use our strdup demangle hack.
+CAP_DEF += -Dcap_liberty
+DEMANGLER_LINK =
+DEMANGLER_EXEC_LINK =
+
 ifdef USES_FLEX
 ifdef FLEX_DIR
 WITHLIBFL       = --with-libfldir=$(FLEX_DIR)
