Change mmap() flags MAP_SHARED to MAP_PRIVATE.  The pvfs file system
on intrepid has problems with MAP_SHARED and we only read the file,
we never try to write it back.


diff -Naurb symtabAPI.orig/src/dyninst/common/src/MappedFile.C symtabAPI/src/dyninst/common/src/MappedFile.C
--- symtabAPI.orig/src/dyninst/common/src/MappedFile.C	2009-12-08 12:02:56.000000000 -0600
+++ symtabAPI/src/dyninst/common/src/MappedFile.C	2012-10-29 15:28:56.000000000 -0500
@@ -302,9 +302,9 @@
 
 #else
 
-   map_addr = mmap(0, file_size, PROT_READ, MAP_SHARED, fd, 0);
+   map_addr = mmap(0, file_size, PROT_READ, MAP_PRIVATE, fd, 0);
    if (MAP_FAILED == map_addr) {
-      sprintf(ebuf, "mmap(0, %lu, PROT_READ, MAP_SHARED, %d, 0): %s", 
+      sprintf(ebuf, "mmap(0, %lu, PROT_READ, MAP_PRIVATE, %d, 0): %s", 
             file_size, fd, strerror(errno));
       goto err;
    }
diff -Naurb symtabAPI.orig/src/dyninst/common/src/mmtimer.c symtabAPI/src/dyninst/common/src/mmtimer.c
--- symtabAPI.orig/src/dyninst/common/src/mmtimer.c	2009-12-08 12:02:56.000000000 -0600
+++ symtabAPI/src/dyninst/common/src/mmtimer.c	2012-10-29 15:29:42.000000000 -0500
@@ -83,7 +83,7 @@
 		close( fd );
 		return 0;
 		}
-	 if( ( mmdev_timer_addr = (volatile unsigned long int *)mmap( 0, getpagesize(), PROT_READ, MAP_SHARED, fd, 0 ) ) == NULL ) {
+	 if( ( mmdev_timer_addr = (volatile unsigned long int *)mmap( 0, getpagesize(), PROT_READ, MAP_PRIVATE, fd, 0 ) ) == NULL ) {
 	 	close( fd );
 	 	return 0;
 		}
